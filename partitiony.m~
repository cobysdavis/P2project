function [ sum1, sum2, balance, diff ] = partitionx( intensity, matrixDim )
k=0;
sum1=11;
sum2=0;
index=matrixDim/2;
while abs(sum1-sum2)>10
sum1=0;
sum2=0;

for j=1:index
    for i=1:matrixDim
        if intensity(i,j)>0
            sum1=sum1+intensity(i,j);
        end
    end
end

 for j=index+1:matrixDim
    for i=1:matrixDim
        if intensity(i,j)>0
            sum2=sum2+intensity(i,j);
        end
    end
 end
 

 
if(sum1>sum2)
    index=index-1;
    k=index;
    
else
    index=index+1;
    k=
end

index


end

diff=abs(sum1-sum2);
balance=index;
return
 
end

